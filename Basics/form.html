<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clarisse's Cookbook</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
  </head>

  <body>
    <div id="nav"></div>
    <h1>Contact Me</h1>

    <div class="container" style="max-width: 600px;">
      <!-- feedback message -->
      <div id="formSubmission" class="mb-3"></div>

      <form id="contactForm">
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="contact_name" placeholder="Your name">
        </div>
      
        <div class="mb-3">
          <label for="email" class="form-label">Email *</label>
          <input type="email" class="form-control" id="email" placeholder="Your email" required>
        </div>
      
        <div class="mb-3">
          <label for="subject" class="form-label">Subject</label>
          <input type="text" class="form-control" id="subject" placeholder="Subject">
        </div>
      
        <div class="mb-3">
          <label for="message" class="form-label">Message *</label>
          <textarea class="form-control" id="message" rows="4" placeholder="Your message" required></textarea>
        </div>
      
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>

    <script>
      document.getElementById("contactForm").addEventListener("submit", function(event) {
        event.preventDefault(); // stop normal form submission
      
        let email = document.getElementById("email").value.trim();
        let message = document.getElementById("message").value.trim();
        let formSubmission = document.getElementById("formSubmission");
      
        // regex for email validation
        let emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      
        if (!email.match(emailPattern)) {
          formSubmission.innerHTML = '<div class="alert alert-danger">❌ Please enter a valid email.</div>';
          return;
        }
      
        if (message.length < 5) {
          formSubmission.innerHTML = '<div class="alert alert-danger">❌ Message must be at least 5 characters long.</div>';
          return;
        }
      
        // if valid, clear inputs
        document.getElementById("contactForm").reset();
        formSubmission.innerHTML = '<div class="alert alert-success">✅ Your message has been sent!</div>';
      });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
      $(function(){
        $("#nav").load("navbar.html");
      });
    </script>
  </body>
</html>